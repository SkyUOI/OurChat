# OurChat Development Rules

This directory contains organized development rules and patterns for the OurChat Rust server application. Each file covers specific aspects of the codebase architecture and development practices.

## Rule Files

### [Architecture Patterns](.clinerules/architecture-patterns.md)
- Server architecture and module organization
- Configuration system design
- Code structure patterns

### [Rust Coding Standards](.clinerules/rust-coding-standards.md)
- Toolchain and dependency management
- Async programming patterns
- Error handling and performance optimization

### [API Design Patterns](.clinerules/api-design-patterns.md)
- gRPC and HTTP API design
- Authentication and rate limiting
- Message processing and WebRTC patterns

### [Database Patterns](.clinerules/database-patterns.md)
- SeaORM entity design and migrations
- Database operations and caching
- File storage and query patterns

### [Security Patterns](.clinerules/security-patterns.md)
- Authentication, authorization, and input validation
- Rate limiting and data protection
- Secure configuration and privacy features

### [Testing Patterns](.clinerules/testing-patterns.md)
- Test organization and naming conventions
- Database and async testing patterns
- Integration testing and test data management

### [Deployment Patterns](.clinerules/deployment-patterns.md)
- Docker deployment and configuration management
- Monitoring, logging, and scaling patterns
- Maintenance and security deployment practices

## Key Principles

1. **Modern Rust**: Uses nightly features and edition 2024
2. **Async-first**: Built on Tokio runtime with proper async patterns
3. **Security-focused**: Comprehensive authentication and data protection
4. **Scalable design**: Supports both single instance and distributed deployment
5. **Real-time communication**: RabbitMQ for messaging, WebRTC for VoIP

## Development Workflow

- Use `cargo build` for development builds
- Use `cargo test` to run all tests
- Use `cargo run --bin server` to start the server
- Use `cargo run --bin migration` for database migrations
- Use Docker Compose for deployment testing

Refer to individual rule files for detailed patterns and examples.